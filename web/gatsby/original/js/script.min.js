$(function(){Browser.init();Common.init();CategoryPage.init();ProductPage.init()});var Common={init:function(){Common.productsMenu();Common.fixedNav();Common.drawerNav();Common.titvertical();Common.pageTop();Common.smoothScroll();Common.searchBox()},productsMenu:function(){var b=$("#header").innerHeight();var a=0;$("#header nav ul > li").on({mouseenter:function(){if(Browser.responsive==="pc"&&$(this).hasClass("products")){$(this).addClass("on");a=Browser.scrollY;$("body,html").css({overflow:"hidden",height:"100%"});var c=$("#header .products-list").position().top;var d=Browser.scrollY;if(d>88){d=88}$("#header .products-list").height(Browser.windowHeight-c-80+d);$("#header").velocity("stop").velocity({height:Browser.windowHeight+d},{duration:100},{easing:[0.19,1,0.22,1]});$("#header .products-list").scrollTop(0)}},mouseleave:function(){$(this).removeClass("on");if(Browser.responsive==="pc"&&$(this).hasClass("products")){$("body,html").scrollTop(a);$("body,html").css({overflow:"visible",height:"auto"});$("#header").velocity("stop").velocity({height:b},{duration:150},{easing:[0.19,1,0.22,1]});$("#header .products-list a .en").css({width:"auto",height:"auto"})}}});$("#header .products-list a .en").each(function(){var c=new Chaffle(this);$(this).closest("a").on({mouseenter:function(){if(Browser.responsive==="pc"){$(this).find(".en").width($(this).find(".en").width());$(this).find(".en").height($(this).find(".en").height());c.init()}}})})},fixedNav:function(){Browser.addScrollHandler(function(){if(Browser.responsive==="pc"){if(Browser.scrollY>88){if(!$("#header").hasClass("fixed")){$("#header").removeClass("absolute");$("#header").addClass("fixed")}}else{if($("#header").hasClass("fixed")){$("#header").addClass("absolute");$("#header").removeClass("fixed")}}}});Browser.addResizeHandler(function(){if(Browser.responsive!=="pc"){$("#header").removeClass("absolute");$("#header").removeClass("fixed")}})},drawerNav:function(){var a=0;$("#drawer-btn").on("click",function(){if(!$("#drawer-content").hasClass("on")){a=Browser.scrollY;$("#drawer-content").addClass("on");$("#drawer-content").scrollTop(0);$("body,html").css({overflow:"hidden",height:"100%"});$("#drawer-btn").velocity("stop").velocity({translateX:"100px"},{duration:100,easing:[0.19,1,0.22,1],complete:function(){$("#drawer-btn").addClass("close");$("#drawer-btn p").html("CLOSE");$("#drawer-btn").velocity({translateX:"0px"},{duration:100,easing:[0.19,1,0.22,1]})}})}else{$("#drawer-content").removeClass("on");$("body,html").css({overflow:"visible",height:"auto"});$("body,html").scrollTop(a);$("#drawer-btn").velocity("stop").velocity({translateX:"100px"},{duration:100,easing:[0.19,1,0.22,1],complete:function(){$("#drawer-btn").removeClass("close");$("#drawer-btn p").html("MENU");$("#drawer-btn").velocity({translateX:"0px"},{duration:100,easing:[0.19,1,0.22,1]})}})}});var b=false;Browser.addScrollHandler(function(){if(Browser.responsivePCSP==="sp"){if(b!==false){clearTimeout(b)}if($("#drawer-btn").hasClass("hidden")){$("#drawer-btn").removeClass("hidden")}b=setTimeout(function(){if(Browser.scrollY>0&&!$("#drawer-btn").hasClass("close")){$("#drawer-btn").addClass("hidden")}},1000)}});$(".content-wrapper").on("touchstart",function(){if(Browser.responsivePCSP==="sp"){$("#drawer-btn").removeClass("hidden")}})},titvertical:function(){$(".tit-vertical").each(function(){var a=$(this);var b=a.find("p").width();a.height(b)})},pageTop:function(){var a=0;var b=$("#footer").innerHeight()-125;var d=0;if($(".ContentsKv").length){d=$(".top-mainvis-block").height()-Browser.windowHeight*0.5+100}else{d=0}if($("#breadcrumbs").length){b+=$("#breadcrumbs").innerHeight()+25}Browser.addScrollHandler(c);function c(){if(Browser.responsivePCSP==="pc"){a=$("body").innerHeight()-b-Browser.windowHeight+10;if(Browser.scrollY>d){if(!$("#pagetop").hasClass("show")){$("#pagetop").addClass("show");$("#pagetop").velocity("stop").velocity({bottom:10},{duration:500,easing:[0.19,1,0.22,1]})}if(Browser.scrollY>a){$("#pagetop").velocity("stop").css({position:"absolute",bottom:b})}else{$("#pagetop").velocity("stop").css({position:"fixed",bottom:10})}}else{if($("#pagetop").hasClass("show")){$("#pagetop").removeClass("show");$("#pagetop").velocity("stop").velocity({bottom:-150},{duration:500,easing:[0.19,1,0.22,1]})}}}else{if(Browser.responsivePCSP==="sp"){if(Browser.scrollY>50){if(!$("#pagetop").hasClass("show")){$("#pagetop").addClass("show")}}else{if($("#pagetop").hasClass("show")){$("#pagetop").removeClass("show")}}}}}c();$("#pagetop").on("click",function(){$("body").velocity("scroll",{duration:1000,easing:[0.19,1,0.22,1]});$(this).removeClass("show")})},smoothScroll:function(){if(Browser.responsive==="pc"){var a=location.hash;if(a){$("body,html").stop().scrollTop(0);if($(".slick-wrapper").length){var c=$(".slick-wrapper").length;$(".slick-wrapper").each(function(d){$(this).on("init",function(e){if(c-1<=d){setTimeout(function(){b(a)},500)}})})}else{b(a)}}$('a[href^="#"]').click(function(){var d=$(this).attr("href");var e=d==="#"||d===""?"html":d;b(e);return false});function b(e){var d=$(e);d.velocity("stop").velocity("scroll",{duration:1000,offset:-88,easing:[0.19,1,0.22,1]})}}else{if(Browser.responsive==="sp"){$('a[href^="#"]').click(function(){var d=$(this).attr("href");var e=$(d==="#"||d===""?"html":d);e.velocity("stop").velocity("scroll",{duration:1000,offset:0,easing:[0.19,1,0.22,1]});return false})}}},searchBox:function(){$(".search").on("click",function(){var a=$(this);var b=a.find(".searchBody");a.addClass("show");b.addClass("show");b.find("input").focus();$(document).on("click touchend",function(c){if(!$(c.target).closest(".search").length){a.removeClass("show");b.removeClass("show")}})});$(".search-home").click(function(){var a=$(this);var b=a.find(".searchBody");a.addClass("show");b.addClass("show");b.find("input").focus();$(document).on("click touchend",function(c){if(!$(c.target).closest(".search-home").length){a.removeClass("show");b.removeClass("show")}})})}};var TopPage={first:false,init:function(){$("html,body").animate({scrollTop:0},"1");TopPage.news();TopPage.loading()},loading:function(){$(".top-mainvis-block").css({height:$(window).height()});$("body").imagesLoaded({background:".ContentsKvMainInner"},function(){setTimeout(function(){new ContentsSlider();new TwitterInfo();new StylingList();if(Browser.responsive==="sp"){TopPage.intro();$.cookie("access","on",{expires:365,path:"/"})}},800)})},intro:function(){if($.cookie("access")!=="on"){TopPage.first=true;var a=$("#Intro");a.show();var b=a.find(".finger");setTimeout(function(){b.addClass("swipe");a.find("p.swipe").addClass("show");a.find("p.swipe span").each(function(d){var c=$(this);setTimeout(function(){c.addClass("show")},50*d)});setTimeout(function(){a.find("p.swipe span").each(function(d){var c=$(this);setTimeout(function(){c.removeClass("show").addClass("hide")},50*d)})},1000)},500);setTimeout(function(){b.addClass("scroll");a.find("p.scroll").addClass("show");a.find("p.scroll span").each(function(d){var c=$(this);setTimeout(function(){c.addClass("show")},50*d)});setTimeout(function(){a.find("p.scroll span").each(function(d){var c=$(this);setTimeout(function(){c.removeClass("show").addClass("hide")},50*d)})},1000)},2400);setTimeout(function(){a.fadeOut(700)},4300)}},news:function(){$(".news-section .slick-wrapper").slick({slidesToShow:4,slidesToScroll:4,infinite:true,responsive:[{breakpoint:1280,settings:{slidesToShow:3,slidesToScroll:3,}},{breakpoint:940,settings:{slidesToShow:2,slidesToScroll:2,}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,centerMode:true,dots:true}}]})}};var SliderList={init:function(){$(".list-slide .slick-wrapper").slick({infinite:false,arrows:false,slidesToShow:1,slidesToScroll:1,variableWidth:true,dots:false})}};var CategoryPage={init:function(){$("body.category .section-content").imagesLoaded(function(){$("body.category .section-content li").each(function(b){var c=$(this).offset().top;var a=$(this);setTimeout(function(){a.addClass("show");var e=a.find("a h2");var d=e.html();e.text("");var h="";if(d){var g=d.split("<br>");for(var f=0;f<g.length;f++){var j=g[f];if(f>0){h+="<br>"}j.split("").forEach(function(k){if(k===" "){k="\u00a0";h+=k}else{h+="<span>"+k+"</span>"}})}}e.html(h);e.find("span").each(function(l){var k=$(this);setTimeout(function(){k.addClass("show")},50*l)})},150*b)})})}};var ProductPage={init:function(){ProductPage.step();ProductPage.listSlide();ProductPage.heighReplace();$(".acc-body").imagesLoaded(function(){ProductPage.moreAcc()})},listSlide:function(){if($(".list-slide ul:not(.list-short)").length){var a=0;$(".list-slide ul li").each(function(){a+=$(this).outerWidth(true)});$(".list-slide ul").scrollLeft(a-Browser.windowWidth);$(".list-slide").on("touchstart",function(){$(".list-slide ul").stop()});Browser.addScrollHandler(function(){var b=$(".list-slide").offset().top-Browser.windowHeight*0.85;if(Browser.scrollY>b){if(!$(".list-slide").hasClass("show")){$(".list-slide").addClass("show");$(".list-slide ul").animate({scrollLeft:0},{duration:1200,easing:"easeOutQuad"})}}})}},step:function(){$(".tech-section .slick-wrapper, .style-section .slick-wrapper").slick({lazyLoad:"progressive",slidesToShow:1,slidesToScroll:1,infinite:true,dots:true,adaptiveHeight:true})},heighReplace:function(){function a(){var c=$(".detail-list"),d=c.find("li .detail-set .detail-section");var e=$(".detail-list"),b=e.find("li .box");prtWidth=c.outerWidth();prtWidth2=e.outerWidth();chdWidth=d.outerWidth();chdWidth2=b.outerWidth();setNum=Math.floor(prtWidth/chdWidth);setNum2=Math.floor(prtWidth2/chdWidth2);chdLength=d.length;chdLength2=b.length;d.css({height:"auto"});b.css({height:"auto"});c.each(function(){var f=0;d.each(function(k){var j=$(this),k=k+1,h=j.outerHeight(),g=parseInt(j.css("padding-top")),m=parseInt(j.css("padding-bottom")),l=j.css("box-sizing");j.addClass("heightReplace");if(h>f){f=h}if(l==="border-box"){c.find(".heightReplace").css({height:f})}else{c.find(".heightReplace").css({height:(f-(g+m))})}if(k%setNum==0||k==chdLength){f=0;d.removeClass("heightReplace")}})});e.each(function(){var f=0;b.each(function(k){var j=$(this),k=k+1,h=j.outerHeight(),g=parseInt(j.css("padding-top")),m=parseInt(j.css("padding-bottom")),l=j.css("box-sizing");j.addClass("heightReplace");if(h>f){f=h}if(l==="border-box"){e.find(".heightReplace").css({height:f})}else{e.find(".heightReplace").css({height:(f-(g+m))})}if(k%setNum2==0||k==chdLength2){f=0;b.removeClass("heightReplace")}})})}$(window).on("load resize",function(){a()}).resize()},moreAcc:function(){if(Browser.responsive==="pc"){$(".acc-body").show();$("#product-different .acc-body, .shop-block .acc-body").wrap("<div class='acc-body-wrapper'></div>").show();$(".acc-body-wrapper").each(function(){$(this).attr("data-height",$(this).innerHeight()).hide()});$("#product-different .acc-btn, .shop-btn").on("click",function(){var b=$(this).parent().find(".acc-body-wrapper");var a=b.attr("data-height")+"px";if(!$(this).hasClass("active")){$(this).addClass("active");b.css({display:"block",height:0,overflow:"hidden"});b.velocity("stop").velocity({height:a},{duration:500,easing:"ease-out"})}else{$(this).removeClass("active");b.velocity("stop").velocity({height:0},{duration:500,easing:"ease-out",complete:function(){$(this).css({height:"auto",display:"none"})}})}return false})}else{if(Browser.responsive==="sp"||Browser.responsive==="tb"){$(".acc-body").wrap("<div class='acc-body-wrapper'></div>").show();$(".acc-body-wrapper").each(function(){$(this).attr("data-height",$(this).innerHeight()).hide()});$(".acc-btn, .shop-btn").on("click",function(){var b=$(this).parent().find(".acc-body-wrapper");var a=b.attr("data-height")+"px";if(!$(this).hasClass("active")){$(this).addClass("active");b.css({display:"block",height:0,overflow:"hidden"});b.velocity("stop").velocity({height:a},{duration:500,easing:"ease-out"})}else{$(this).removeClass("active");b.velocity("stop").velocity({height:0},{duration:500,easing:"ease-out",complete:function(){$(this).css({height:"auto",display:"none"})}})}return false})}}}};var StylingPage={init:function(){new StylingList();$("#StylingListWrapper").slick({arrows:false,dots:false,draggable:false,swipe:false})}};ContentsSlider=function(){var a=this;a.$dispatch=$("<div>");a.$ContentsKvWrapper=$("#ContentsKvWrapper");a.$ContentsKvInner=$("#ContentsKvInner");a.$ContentsBodyWrapper=$("#ContentsBodyWrapper");a.$ContentsBodyInner=$("#ContentsBodyInner");a.$ContentsBtns=$("#ContentsBtns");a.$ContentsBtnsInner=$("#ContentsBtnsInner");if(a.$ContentsBodyWrapper.length===0){return}a.currentIndex=a.getHashIndex();a.sid=0;a.lock=false;a.scrollLock=false;a.length=a.$ContentsKvWrapper.find(".ContentsKv").length;a.btnIndex=0;a.reload=false;a.loaded=false;a.first=false;$("#ContentsBodyWrapper").imagesLoaded(function(){a.init()})};ContentsSlider.TIME=7000;ContentsSlider.prototype={constructor:ContentsSlider,init:function(){var a=this;a.$ContentsKvInner.slick({infinite:true,arrows:false,dots:false,draggable:false,swipe:true,asNavFor:a.$ContentsBtnsInner});a.$ContentsBodyInner.slick({infinite:true,arrows:false,dots:false,draggable:false,swipe:false,adaptiveHeight:true,fade:true});a.$ContentsBtnsInner.slick({infinite:true,slidesToShow:3,slidesToScroll:1,arrows:false,dots:false,asNavFor:a.$ContentsKvInner,focusOnSelect:true});a.$ContentsBodyWrapper.find(".ContentsBodyTitles").show();a.$ContentsKvInner.slick("slickGoTo",a.currentIndex,true);a.$ContentsKvInner.on("swipe",$.proxy(a.swipeHandler,a));a.$ContentsKvInner.on("afterChange",$.proxy(a.afterChangeHandler,a));a.$ContentsKvInner.find(".ContentsKv").on({mouseenter:function(){$(this).addClass("on")},mouseleave:function(){$(this).removeClass("on")}});a.$ContentsBtnsInner.on("swipe",$.proxy(a.swipeHandler,a));a.$ContentsBtnsInner.on("afterChange",$.proxy(a.afterChangeHandler,a));$(".top-mainvis-block").css({height:"auto"});$(".ContentsBodyTitles p").each(function(){var b=new Chaffle(this);$(window).on({chaffleTitles:function(){b.init()}})});$("#loading").velocity({opacity:0,scale:0},{duration:300,easing:"ease-out",complete:function(){$(this).remove();var b=0;if(TopPage.first){b=4000}setTimeout(function(){a.start()},b)}})},start:function(){var a=this;$("#TwitterInfo").addClass("initialized");a.$ContentsKvInner.find(".ContentsKv").addClass("loaded");setTimeout(function(){a.$ContentsKvInner.find(".slick-current .ContentsKvInfo").addClass("show");a.$ContentsKvInner.find(".slick-current .ContentsKvMain").addClass("show");a.responsiveHandler();a.resizeHandler();a.scrollHandler()},50);setTimeout(function(){a.$ContentsBtnsInner.find(".btnInner").each(function(c){var b=$(this);setTimeout(function(){b.addClass("loaded")},100*c)})},600);setTimeout(function(){a.loaded=true;a.setTimer();a.btnMotion();a.slide("",0);a.$ContentsBtns.find(".btn").on("click",$.proxy(a.btnClickHandler,a));a.responsiveHandler();a.resizeHandler();a.scrollHandler()},900);Browser.addResponsivePCSPHandler(a.responsiveHandler,a);a.responsiveHandler();Browser.addResizeHandler(a.resizeHandler,a);a.resizeHandler();Browser.addScrollHandler(a.scrollHandler,a);a.scrollHandler()},responsiveHandler:function(){var a=this;if(a.loaded){a.$ContentsBtns.find(".btn").off();a.resetTimer();a.btnMotionStop()}var c=a.$ContentsBtns.find(".btn");if(Browser.responsivePCSP==="sp"){$(document).off("mouseenter, mouseleave",c);if(a.reload){window.location.reload(false)}}else{var b=a.$ContentsBodyWrapper.find(".ContentsBodyTitles .tit-vertical p").width();a.$ContentsBodyWrapper.find(".ContentsBodyTitles .tit-vertical").height(b);a.$ContentsBtnsInner.slick("unslick");a.reload=true}if(a.loaded){a.$ContentsBtns.find(".btn").on("click",$.proxy(a.btnClickHandler,a));a.slide(null,a.currentIndex);a.setTimer();a.btnMotion()}a.setBodyHeight()},resizeHandler:function(){var c=this;c.responsivePCSP="";if(Browser.responsivePCSP==="sp"){c.responsivePCSP="sp";var e=$("#Kv").offset().top;var g=$("#Kv").height();var f=Browser.windowHeight-$("#ContentsBtns").offset().top+20;var a=$(".bg").height();var d=$("#Kv .ContentsKvMain").height()}else{if(c.responsivePCSP!=="pc"){}c.responsivePCSP="pc";$("#Kv").css({height:"auto"});$("#Kv .ContentsKvMain").css({height:"auto"})}var b=c.$ContentsBtnsInner.find(".btn").innerWidth()-4;c.$ContentsBtnsInner.find(".btnInner span").width(b);c.setBodyHeight()},scrollHandler:function(){var j=this;var c=j.$ContentsBtns.height();var f=j.$ContentsBtnsInner.offset().top;var h=j.$ContentsBodyInner.offset().top;var e=Browser.windowHeight;var a=Browser.scrollY;var b=j.$ContentsKvWrapper.height()+j.$ContentsKvWrapper.offset().top;var d=100;if(a+e-d>b){if(!j.scrollLock){j.resetTimer();j.btnMotionStop()}j.scrollLock=true}else{if(j.scrollLock){j.setTimer();j.btnMotion()}j.scrollLock=false}var g=0;if(a>h-e+300){if(!j.$ContentsBodyInner.hasClass("show")){j.$ContentsBodyInner.addClass("show");if(j.currentIndex===2){$("#StylingListInner .StylingListItem").each(function(){var k=$(this).offset().left;var l=$(this).width()*2;if(k>-l&&k<Browser.windowWidth){g++}})}}}else{if(j.$ContentsBodyInner.hasClass("show")){j.$ContentsBodyInner.removeClass("show")}}},slide:function(d,c){var a=this;var e=a.$ContentsKvInner.slick("slickCurrentSlide");var b=0;if(d==="left"){a.$ContentsBodyInner.slick("slickNext");a.lock=true}else{if(d==="right"){a.$ContentsBodyInner.slick("slickPrev");a.lock=true}}if(c>=0){a.$ContentsKvInner.slick("slickGoTo",c);a.$ContentsBodyInner.slick("slickGoTo",c);a.$ContentsBtnsInner.slick("slickGoTo",c);a.currentIndex=c;a.lock=true}else{a.currentIndex=e}a.$ContentsBodyWrapper.find(".ContentsBodyTitles .tit-vertical").each(function(g){var f=a.currentIndex;if(f===g){$(this).show();var j=$(this).find("p").width();$(this).parent().height(j);$(window).trigger("chaffleTitles")}else{$(this).hide()}});a.$ContentsBtns.find(".btn").removeClass("currentBtn");a.$ContentsBtns.find(".btn").eq(a.currentIndex).addClass("currentBtn");if(!a.scrollLock){a.setTimer()}a.setBodyHeight();a.showMotion();a.btnMotion(d)},setBodyHeight:function(){var a=this;var b=a.$ContentsBodyInner.find(".slick-current").outerHeight();a.$ContentsBodyInner.height(b)},showMotion:function(){var a=this;a.$ContentsKvInner.find(".ContentsKv .ContentsKvMain").removeClass("show");a.$ContentsKvInner.find(".slick-current .ContentsKvMain").addClass("show");a.$ContentsKvInner.find(".ContentsKv .ContentsKvInfo").removeClass("show");a.$ContentsKvInner.find(".slick-current .ContentsKvInfo").addClass("show")},swipeHandler:function(c,b,d){var a=this;a.slide(d,-1)},afterChangeHandler:function(c,b,d){var a=this;a.lock=false},setTimer:function(){var a=this;clearTimeout(a.sid);a.sid=setTimeout(function(){if(!a.scrollLock){a.$ContentsKvInner.slick("slickNext");a.slide("left",-1)}},ContentsSlider.TIME)},resetTimer:function(){var a=this;clearTimeout(a.sid)},btnClickHandler:function(c){var a=this;if(a.lock){return}var b=$(c.currentTarget).data("index");if(a.currentIndex===b){return}a.slide(null,b)},btnMotion:function(e){var c=this;var f=c.$ContentsKvInner.slick("slickCurrentSlide");var d=$('#ContentsBtns .btn[data-index="'+f+'"]');var a=d.find(".on");var b=d.find(".on span");c.btnIndex=c.currentIndex+1;if(c.btnIndex>c.length){c.btnIndex=0}c.$ContentsBtnsInner.find(".on").removeClass("velocity-animating");b.velocity("stop").css({left:"0",right:"auto"});a.velocity("stop").css({left:"0",right:"auto",width:"0%"});a.velocity({width:"101%"},{duration:1000,easing:[0.19,1,0.22,1],complete:function(){if(!c.scrollLock){a.css({left:"auto",right:"0"}).velocity({width:"0%"},{duration:ContentsSlider.TIME-1000,easing:"linear"});b.css({left:"auto",right:"0"})}}});c.$ContentsBtns.find(".btn").each(function(){var j=$(this).data("index");var g=$('#ContentsBtns .btn[data-index="'+j+'"]').find(".on");var h=$('#ContentsBtns .btn[data-index="'+j+'"]').find(".on span");if(j!==f){g.velocity("stop").css({left:"0",right:"auto"}).velocity({width:"0%"},{duration:500,easing:[0.19,1,0.22,1]});h.velocity("stop").css({left:"0",right:"auto"})}});if(Browser.responsivePCSP==="sp"){if(e==="left"){}else{if(e==="right"){}}}},btnMotionStop:function(){var c=this;var e=c.$ContentsKvInner.slick("slickCurrentSlide");var d=$('#ContentsBtns .btn[data-index="'+e+'"]');var a=d.find(".on");var b=d.find(".on span");a.velocity("stop").velocity({width:"100%"},{duration:500,easing:[0.19,1,0.22,1],complete:function(){a.css({left:"0",right:"auto"});b.velocity("stop").css({left:"0",right:"auto"})}});c.$ContentsBtns.find(".btn").each(function(h){var j=$(this).data("index");var f=$('#ContentsBtns .btn[data-index="'+j+'"]').find(".on");var g=$('#ContentsBtns .btn[data-index="'+j+'"]').find(".on span");if(j!==e){f.velocity("stop").css({left:"0",right:"auto"}).velocity({width:"0%"},{duration:10});g.velocity("stop").css({left:"0",right:"auto"})}})},getHashIndex:function(){var b=this;var c=window.location.hash.replace("#","");if(!c){return 0}var a=0;b.$ContentsBtns.find(".btn").each(function(){if($(this).data("id")===c){a=$(this).data("index")}});return a},};StylingList=function(){var a=this;a.$dispatch=$("<div>");a.$StylingList=$("#StylingList");a.$StylingListWrapper=$("#StylingListWrapper");a.$StylingListInner=$("#StylingListInner");a.$StylingListArrowLeft=$("#StylingListArrowLeft");a.$StylingListArrowRight=$("#StylingListArrowRight");if(a.$StylingList.length===0){return}a.a=[];a.touchstart_func=$.proxy(a.sp_touchstart,a);a.touchmove_func=$.proxy(a.sp_touchmove,a);a.touchend_func=$.proxy(a.sp_touchend,a);a.$StylingListInnerGroup;a.$StylingListInnerGroupLeft;a.$StylingListInnerGroupCenter;a.$StylingListInnerGroupRight;a.allItem=[];a.allItemLength=0;$.getJSON("/js/json/top-styling.json",function(c){for(var b in c){a.allItem.push(c[b])}a.shuffle(a.allItem);a.allItemLength=a.allItem.length;a.init();Browser.addResponsivePCSPHandler(a.responsiveHandler,a);a.responsiveHandler()})};StylingList.prototype={constructor:StylingList,init:function(){var a=this},shuffle:function(e){var b=this;var a=e.length,d,c;while(a){c=Math.floor(Math.random()*a--);d=e[a];e[a]=e[c];e[c]=d}return e},responsiveHandler:function(){var a=this;a.$StylingListInner.empty();a.$StylingListArrowLeft.off();a.$StylingListArrowRight.off();a.$StylingListInner.removeAttr("style");a.pc_isLoop=false;a.pc_groupWidth=0;a.pc_x=0;a.pc_move=-1;a.sp_movementX=0;a.$StylingListInner[0].removeEventListener("touchstart",a.touchstart_func);a.itemWidth=320;a.displayNumPC=0;a.displayNumSP=5;a.displayStart=0;a.displayEnd=0;if(Browser.responsivePCSP==="sp"){a.sp_init();a.$StylingListInner[0].addEventListener("touchstart",a.touchstart_func,false);a.$StylingListArrowLeft.on("click",function(){a.sp_movemotion("left")});a.$StylingListArrowRight.on("click",function(){a.sp_movemotion("right")})}else{a.pc_init();a.$StylingListArrowLeft.on("click",function(){a.pc_move=-30});a.$StylingListArrowRight.on("click",function(){a.pc_move=35})}},pc_init:function(){var c=this;var f=["left","center","right"];c.displayNumPC=Math.ceil($(window).width()/c.itemWidth)+2;c.displayStart=0;c.displayEnd=c.displayNumPC;c.$StylingListInner.append('<div class="StylingListInnerGroup"></div>');c.$StylingListInnerGroup=c.$StylingListInner.find(".StylingListInnerGroup");for(var b=0;b<c.displayNumPC;b++){var d=c.allItem[b].url;var a=c.allItem[b].thumb;var e='<a href="'+d+'" class="StylingListItem"><img src="'+a+'"></a>';c.$StylingListInnerGroup.append(e)}c.$StylingListInnerGroup.find("a").each(function(g){var h=c.itemWidth*g;$(this).css({position:"absolute",transform:"translateX("+h+"px)"});$(this).attr("data-pos",h);$(this).attr("data-num",g);$(this).find("img").one("load",function(){$(this).parent().addClass("loaded")})});c.pc_groupWidth=c.$StylingListInnerGroup.width();c.pc_isLoop=true;window.requestAnimationFrame($.proxy(c.pc_update,c))},pc_update:function(){var a=this;a.pc_move+=(-1-a.pc_move)*0.1;a.pc_x+=a.pc_move;a.$StylingListInnerGroup.find(".StylingListItem").each(function(){var g=$(this);var j=Number(g.attr("data-pos"));var h=j+a.pc_move;g.css("transform","translateX("+h+"px)").attr("data-pos",h);if(j>-a.itemWidth&&j<Browser.windowWidth+a.itemWidth){g.removeClass("hide");g.addClass("show")}if(j<-a.itemWidth){g.addClass("hide");g.removeClass("show, loaded");var l=Number(a.$StylingListInnerGroup.find(".StylingListItem").eq(a.displayNumPC-1).attr("data-pos"));g.css("transform","translateX("+l+a.itemWidth+"px)").attr("data-pos",l+a.itemWidth);var k=a.$StylingListInnerGroup.find(".StylingListItem").eq(a.displayNumPC-1).attr("data-num");var f=Number(k)+1;if(f>=a.allItemLength){f=0}var c=a.allItem[f].url;var b=a.allItem[f].thumb;g.attr("data-num",f);g.attr("href",c);g.find("img").attr("src","");g.find("img").attr("src",b);g.find("img").one("load",function(){$(this).parent().addClass("loaded")});a.$StylingListInnerGroup.append(g)}else{if(j>Browser.windowWidth+a.itemWidth){if(a.pc_move>-1){g.addClass("hide");g.removeClass("show, loaded");var e=Number(a.$StylingListInnerGroup.find(".StylingListItem").eq(0).attr("data-pos"));g.css("transform","translateX("+e-a.itemWidth+"px)").attr("data-pos",e-a.itemWidth);var d=a.$StylingListInnerGroup.find(".StylingListItem").eq(0).attr("data-num");var f=Number(d)-1;if(f<0){f=a.allItemLength-1}var c=a.allItem[f].url;var b=a.allItem[f].thumb;g.attr("data-num",f);g.attr("href",c);g.find("img").attr("src","");g.find("img").attr("src",b);g.find("img").one("load",function(){$(this).parent().addClass("loaded")});a.$StylingListInnerGroup.prepend(g)}}}});if(a.pc_isLoop){window.requestAnimationFrame($.proxy(a.pc_update,a))}},sp_init:function(){var b=this;b.displayEnd=b.displayNumSP;for(var d=0;d<b.displayNumSP;d++){var c=b.allItem[d].url;var a=b.allItem[d].thumb;var e='<a href="'+c+'" class="StylingListItem" data-index="'+d+'"><img src="'+a+'"></a>';b.$StylingListInner.append(e)}b.$StylingListInner.find("a").each(function(f){$(this).find("img").css({left:Math.floor(Math.random()*50-25),top:Math.floor(Math.random()*50-25),transform:"scale("+(1-(b.displayNumSP-1)*0.05+0.05*f)+")"})});$("body").append('<div id="log"></div>');$("#log").css({position:"fixed",top:0,left:0,"z-index":99999})},sp_touchstart:function(c){var a=this;window.addEventListener("touchmove",a.touchmove_func,false);window.addEventListener("touchend",a.touchend_func,false);a.startlayerX=a.getLayerX(c);a.startlayerY=a.getLayerY(c);a.no_scroll();var b=a.$StylingListInner.find("a").eq(a.$StylingListInner.find("a").length-1);b.velocity("stop").velocity({scale:1.05},{duration:300,easing:[0.175,0.885,0.32,1.275]})},sp_touchmove:function(f){var c=this;var b=c.getLayerX(f);var a=c.getLayerY(f);c.sp_movementX=(b-c.startlayerX);c.sp_movementY=(a-c.startlayerY);var d=c.$StylingListInner.find("a").eq(c.$StylingListInner.find("a").length-1);d.css({left:c.sp_movementX,top:c.sp_movementY,});d.find("img").css({transform:"rotate("+c.sp_movementX*0.1+"deg)"})},sp_touchend:function(d){var c=this;window.removeEventListener("touchmove",c.touchmove_func);window.removeEventListener("touchend",c.touchend_func);var b=120;var f="";var a="";if(c.sp_movementX>b){f="right"}else{if(c.sp_movementX<-b){f="left"}}if(c.sp_movementY>b){a="top"}else{if(c.sp_movementY<-b){a="bottom"}}if(c.sp_movementX>b){c.sp_movemotion(f,a)}else{if(c.sp_movementX<-b){c.sp_movemotion(f,a)}else{c.sp_movemotion("")}}c.return_scroll()},sp_movemotion:function(f,a){var b=this;var c=b.$StylingListInner.find("a").eq(b.$StylingListInner.find("a").length-1);var e=0;var d=0;if(a==="top"){e=c.position().top+b.sp_movementY*2}else{if(a==="bottom"){e=c.position().top+b.sp_movementY*2}}if(f==="right"){d=Browser.windowWidth}else{if(f==="left"){d=-Browser.windowWidth}}if(d===0){c.velocity("stop").velocity({left:0,top:0,scale:1},{duration:300,easing:[0.175,0.885,0.32,1.275]})}else{c.velocity("stop").velocity({left:d,top:e},{duration:300,complete:function(){b.displayEnd+=1;if(b.displayEnd>b.allItemLength-1){b.displayEnd=0}var h=c.find("img");c.removeAttr("style");h.removeAttr("style");h.css({left:Math.floor(Math.random()*20-10),top:Math.floor(Math.random()*50-25)});var j=b.allItem[b.displayEnd].url;var g=b.allItem[b.displayEnd].thumb;c.attr("href",j);h.attr("src","");h.attr("src",g);h.css({opacity:0,transform:"scale(0.8)"});b.$StylingListInner.prepend(c);b.$StylingListInner.find(".StylingListItem").each(function(k){$(this).find("img").velocity({opacity:1,scale:1-(b.displayNumSP-1)*0.05+0.05*k},{duration:300,easing:[0.175,0.885,0.32,1.275],delay:75*(b.displayNumSP-1)-100*k})})}})}},sp_dots_update:function(){var a=this;var c=a.$StylingListInner.find("a").eq(a.$StylingListInner.find("a").length-1);var b=c.data("reverseindex");a.$StylingListDots.find(".StylingListDot").each(function(d){if(d===b){$(this).addClass("current")}else{$(this).removeClass("current")}})},getLayerX:function(b){var a=this;if(b.type==="touchstart"||b.type==="touchmove"){return b.touches[0].pageX-a.$StylingListInner.offset().left}else{return b.layerX}},getLayerY:function(b){var a=this;if(b.type==="touchstart"||b.type==="touchmove"){return b.touches[0].pageY-a.$StylingListInner.offset().top}else{return b.layerY}},preventDefault:function(a){a.preventDefault()},no_scroll:function(){var a=this;document.addEventListener("touchmove",a.preventDefault,{passive:false})},return_scroll:function(){var a=this;document.removeEventListener("touchmove",a.preventDefault,{passive:false})}};TwitterInfo=function(){var a=this;a.$TwitterInfo=$("#TwitterInfo");if(a.$TwitterInfo.length===0){return}a.$list=a.$TwitterInfo.find(".list");a.data;a.sId;a.currentIndex=0;a.init()};TwitterInfo.URL="/localdata/twitter/twitter.json";TwitterInfo.API="api/get/twitter.html";TwitterInfo.TIMER_DURATION=5000;TwitterInfo.MOVE_DURATION=1000;TwitterInfo.prototype={constructor:TwitterInfo,init:function(){var a=this;a.load()},load:function(){var a=this;$.ajax({url:TwitterInfo.URL,dataType:"json",success:function(b){a.data=b;a.initHtml()},error:function(b){}});$.ajax({url:TwitterInfo.API,dataType:"json",success:function(b){},error:function(b){}})},initHtml:function(){var a=this;var b=a.createTxt(a.currentIndex,a.data[a.currentIndex]);b.css({left:0,top:0});a.$list.append(b);Browser.addResizeHandler(a.resizeHandler,a);a.resizeHandler();Browser.addResponsivePCSPHandler(a.responsiveHandler,a);a.responsiveHandler()},createTxt:function(b,e){var a=this;var c=a.map(Browser.windowWidth,768,1100,30,52);return $('<p class="txt" data-index='+b+"><span>"+e.created_at+'</span> <a href="'+e.detail_url+'" target="_blank" class="text" onclick="tmEvent(\'トップtwitter'+b+"');\">"+a.convertTenTen(e.text,c)+"</a></p>")},resizeHandler:function(){var a=this;if(Browser.responsivePCSP!=="pc"){return}var b=a.map(Browser.windowWidth,768,1100,30,52);a.$list.find(".txt").each(function(){var c=$(this).data("index");$(this).find(".text").each(function(){var e=a.data[c];$(this).text(a.convertTenTen(e.text,b))})})},responsiveHandler:function(){var a=this;clearInterval(a.sId);if(Browser.responsivePCSP==="pc"){a.sId=setInterval($.proxy(a.timerHandler,a),TwitterInfo.TIMER_DURATION)}else{}},timerHandler:function(){var a=this;a.currentIndex++;if(a.currentIndex>=a.data.length){a.currentIndex=0}a.slide()},slide:function(){var a=this;var b=a.$list.find(".txt");var d=a.createTxt(a.currentIndex,a.data[a.currentIndex]);function e(){var f=new $.Deferred;b.stop().velocity({left:0,top:0,opacity:0},TwitterInfo.MOVE_DURATION,"easeInQuad");a.$list.append(d);d.stop().delay(TwitterInfo.MOVE_DURATION).css({left:0,top:30,opacity:0}).velocity({left:0,top:0,opacity:1},TwitterInfo.MOVE_DURATION,"easeOutExpo").queue(function(){f.resolve();$(this).dequeue()});return f.promise()}function c(){var g=new $.Deferred;var f=a.$list.find(".txt").length;a.$list.find(".txt").each(function(h){if(h===f-1){}else{$(this).remove()}});return g.promise()}e().then(c)},map:function(d,h,c,b,g,f){var a=this;var e=((d-h)/(c-h)*(g-b)+b);if(f){if(g<b){if(e<g){e=g}else{if(e>b){e=b}}}else{if(e>g){e=g}else{if(e<b){e=b}}}}return e},convertTenTen:function(c,a){var b=this;if(c.length<=a){return c}else{return(c.substr(0,a)+"...")}},};var Browser=function(){};Browser.isIE=false;Browser.isIE6=false;Browser.isIE7=false;Browser.isIE8=false;Browser.isIE9=false;Browser.isFF=false;Browser.isFF35=false;Browser.isOpera=false;Browser.isChrome=false;Browser.isSafari=false;Browser.isiPhone=false;Browser.isiPad=false;Browser.isiPod=false;Browser.isAndroid=false;Browser.isCanvas=false;Browser.isTransform=false;Browser.isTransition=false;Browser.isSp=false;Browser.scrollX=0;Browser.scrollY=0;Browser.scrollYPercent=0;Browser.windowWidth=0;Browser.windowHeight=0;Browser.windowWidthHalf=0;Browser.windowHeightHalf=0;Browser.documentWidth=0;Browser.documentHeight=0;Browser.scrollRate=0;Browser.resizeFunction=[];Browser.responsiveFunction=[];Browser.responsivePCSPFunction=[];Browser.scrollFunction=[];Browser.responsive="pc";Browser.responsivePCSP="pc";Browser.transitionend="oTransitionEnd mozTransitionEnd webkitTransitionEnd transitionend";Browser.animationend="webkitAnimationEnd animationend";Browser.scrollEvent="onwheel" in document?"wheel":"onmousewheel" in document?"mousewheel":"DOMMouseScroll";Browser._getScrollPosition=function(){var a=new Object();a.x=document.documentElement.scrollLeft||document.body.scrollLeft;a.y=document.documentElement.scrollTop||document.body.scrollTop;return a};Browser._getScreenSize=function(){var a=new Object();if(!Browser.isSafari&&!Browser.isOpera){a.width=document.documentElement.clientWidth||document.body.clientWidth||document.body.scrollWidth;a.height=document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight}else{a.width=window.innerWidth;a.height=window.innerHeight}a.widthHalf=parseInt((a.width)/2);a.heightHalf=parseInt((a.height)/2);return a};Browser._getDocumentSize=function(){var a=new Object();a.width=document.documentElement.scrollWidth||document.body.scrollWidth;a.height=document.documentElement.scrollHeight||document.body.scrollHeight;return a};Browser._scrollHandler=function(){var a=Browser._getScrollPosition();Browser.scrollX=a.x;Browser.scrollY=a.y;Browser.scrollYPercent=Browser.windowWidth!==0?Browser.scrollY/Browser.windowWidth:0;Browser.scrollRate=Browser.scrollY/(Browser.documentHeight-Browser.windowHeight);for(var b=0;b<Browser.scrollFunction.length;b++){Browser.scrollFunction[b].fn.apply(Browser.scrollFunction[b].scope)}};Browser._resizeHandler=function(){var b=Browser._getScreenSize();Browser.windowWidth=b.width;Browser.windowHeight=b.height;Browser.windowWidthHalf=b.widthHalf;Browser.windowHeightHalf=b.heightHalf;var c=Browser._getDocumentSize();Browser.documentWidth=c.width;Browser.documentHeight=c.height;for(var a=0;a<Browser.resizeFunction.length;a++){Browser.resizeFunction[a].fn.apply(Browser.resizeFunction[a].scope)}if(window.matchMedia&&window.matchMedia("(max-width:640px)").matches){if(Browser.responsive!=="sp"){Browser.responsive="sp";for(var a=0;a<Browser.responsiveFunction.length;a++){Browser.responsiveFunction[a].fn.apply(Browser.responsiveFunction[a].scope)}}}else{if(window.matchMedia&&window.matchMedia("(min-width: 768px) and (max-width: 979px)").matches){if(Browser.responsive!=="tb"){Browser.responsive="tb";for(var a=0;a<Browser.responsiveFunction.length;a++){Browser.responsiveFunction[a].fn.apply(Browser.responsiveFunction[a].scope)}}}else{if(Browser.responsive!=="pc"){Browser.responsive="pc";for(var a=0;a<Browser.responsiveFunction.length;a++){Browser.responsiveFunction[a].fn.apply(Browser.responsiveFunction[a].scope)}}}}if(window.matchMedia&&window.matchMedia("(max-width:767px)").matches){if(Browser.responsivePCSP!=="sp"){Browser.responsivePCSP="sp";for(var a=0;a<Browser.responsivePCSPFunction.length;a++){Browser.responsivePCSPFunction[a].fn.apply(Browser.responsivePCSPFunction[a].scope)}}}else{if(Browser.responsivePCSP!=="pc"){Browser.responsivePCSP="pc";for(var a=0;a<Browser.responsivePCSPFunction.length;a++){Browser.responsivePCSPFunction[a].fn.apply(Browser.responsivePCSPFunction[a].scope)}}}};Browser.init=function(){Browser.initUA();$(window).scroll(Browser._scrollHandler);Browser._scrollHandler();$(window).on("orientationchange resize",function(){setTimeout(function(){Browser._resizeHandler()},0)});Browser._resizeHandler()};Browser.initUA=function(){var d=window.navigator.userAgent.toLowerCase();var b=window.navigator.appVersion.toLowerCase();if(d.indexOf("msie")>-1){Browser.isIE=true;if(b.indexOf("msie 6.0")>-1){Browser.isIE6=true}else{if(b.indexOf("msie 7.0")>-1){Browser.isIE7=true}else{if(b.indexOf("msie 8.0")>-1){Browser.isIE8=true}else{if(b.indexOf("msie 9.0")>-1){Browser.isIE9=true}}}}}else{if(d.indexOf("trident")>-1){Browser.isIE=true}else{if(d.indexOf("firefox")>-1){Browser.isFF=true;var a=parseFloat(d.match(/firefox\/(\d+\.\d+)/)[1]);Browser.isFF35=a>=3.5}else{if(d.indexOf("iphone")>-1){Browser.isiPhone=true}else{if(d.indexOf("ipod")>-1){Browser.isiPod=true}else{if(d.indexOf("ipad")>-1){Browser.isiPad=true}else{if(d.indexOf("android")>-1){Browser.isAndroid=true}else{if(d.indexOf("opera")>-1){Browser.isOpera=true}else{if(d.indexOf("chrome")>-1){Browser.isChrome=true}else{if(d.indexOf("safari")>-1){Browser.isSafari=true}}}}}}}}}}var c=$("<div>");Browser.isCanvas=(!this.isIE6&&!this.isIE7&&!this.isIE8&&!this.isiPhone&&!this.isiPod&&!this.isAndroid);Browser.isTransform=typeof c.css("transform")==="string";Browser.isTransition=typeof c.css("transitionProperty")==="string";Browser.isSp=(this.isiPhone||this.isiPod||this.isAndroid)};Browser.addResizeHandler=function(b,a){if(typeof b==="function"){Browser.resizeFunction.push({fn:b,scope:a})}};Browser.removeResizeHandler=function(a){if(typeof a==="function"){for(i=0;i<=Browser.resizeFunction.length-1;i++){var b=Browser.resizeFunction[i].fn;if(b===a){Browser.resizeFunction.splice(i,1)}}}};Browser.addResponsiveHandler=function(b,a){if(typeof b==="function"){Browser.responsiveFunction.push({fn:b,scope:a})}};Browser.removeResponsiveHandler=function(a){if(typeof a==="function"){for(i=0;i<=Browser.responsiveFunction.length-1;i++){var b=Browser.responsiveFunction[i].fn;if(b===a){Browser.responsiveFunction.splice(i,1)}}}};Browser.addResponsivePCSPHandler=function(b,a){if(typeof b==="function"){Browser.responsivePCSPFunction.push({fn:b,scope:a})}};Browser.removeResponsivePCSPHandler=function(a){if(typeof a==="function"){for(i=0;i<=Browser.responsivePCSPFunction.length-1;i++){var b=Browser.responsivePCSPFunction[i].fn;if(b===a){Browser.responsivePCSPFunction.splice(i,1)}}}};Browser.addScrollHandler=function(b,a){if(typeof b==="function"){Browser.scrollFunction.push({fn:b,scope:a})}};Browser.removeScrollHandler=function(a){if(typeof a==="function"){for(i=0;i<=Browser.scrollFunction.length-1;i++){var b=Browser.scrollFunction[i].fn;if(b===a){Browser.scrollFunction.splice(i,1)}}}};Browser.resize=function(){Browser._resizeHandler()};Browser.setViewportiPad=function(){if(!Browser.isiPad){return}var c=document.getElementsByTagName("meta");for(var b=0;b<c.length;b++){var a=c[b].getAttribute("name");if(a&&a.toLowerCase()==="viewport"){c[b].setAttribute("content","width=1024px,user-scalable=no");break}}Browser.resize()};Browser.webgl=(function(){try{var a=document.createElement("canvas");return !!(window.WebGLRenderingContext&&(a.getContext("webgl")||a.getContext("experimental-webgl")))}catch(b){return false}})();